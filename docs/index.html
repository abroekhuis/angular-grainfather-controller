<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>gf-ble documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
	      <link rel="stylesheet" href="./styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="./" class="navbar-brand">gf-ble documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content getting-started">
                   <div class="content-data">

<h1 id="angular-grainfather-control">Angular Grainfather Control</h1>
<p>This project contains an example and the grainfather control library. 
The example expects BrewFather batch files to be able to send a recipe to the controller.</p>
<p>This library was generated with <a href="https://github.com/angular/angular-cli">Angular CLI</a> version 9.1.3.</p>
<p>It can be used to control the GrainFather controller via BLE from within a browser.
The BLE specification is taken from <a href="https://github.com/kingpulsar/Grainfather-Bluetooth-Protocol">https://github.com/kingpulsar/Grainfather-Bluetooth-Protocol</a>.</p>
<p>The main module exposes an API to connect/reconnect/disconnect from the controller. 
It also has a send method, which takes a Command from the commands files.</p>
<p>All commands are available as a class, with the Recipe command being the most complex one.
RecipeDetails contain the minimal information that is needed to create a recipe. 
All other values are assumed to have defaults for now.</p>
<div><pre class="line-numbers"><code class="language-none">export type MashStep = {
  name: string;
  stepTime: number;
  stepTemperature: number;
};

export type BoilStep = {
  name: string;
  time: number;
  sent: boolean;
};

export class RecipeDetails {
  name: string;
  mashWaterAmount: number;
  spargeWaterAmount: number;
  boilTime: number;
  hopStandTime: number;
  mashSteps: MashStep[];
  boilSteps: BoilStep[];
  delayMinutes: number;
  delaySeconds: number;
}</code></pre></div><p>Notifications are processed by the notifications handler. 
This handler updates and broadcasts the state as well.
It uses the state to decrease the required interaction with the controller as much as possible.</p>
<p>Currently the following interactions are needed:</p>
<ul>
<li>Start session after sending recipe without delay</li>
<li>Add grain alarm</li>
<li>Sparge alarm</li>
<li>Start boil timer</li>
<li>Start hopstand timer</li>
<li>Finish session</li>
</ul>
<p>It also sends notifications with:</p>
<ul>
<li>Current step, see SessionState</li>
<li>Time left for step, for delay, mash and boil</li>
<li>If a boil addition needs to be added, this will only be one event for each addition</li>
</ul>
<h2 id="build">Build</h2>
<p>Run <code>ng build angular-grainfather-control</code> to build the project. The build artifacts will be stored in the <code>dist/</code> directory.</p>
<h2 id="publishing">Publishing</h2>
<p>After building your library with <code>ng build angular-grainfather-control</code>, go to the dist folder <code>cd dist/angular-grainfather-control</code> and run <code>npm publish</code>.</p>
<h2 id="running-unit-tests">Running unit tests</h2>
<p>Run <code>ng test angular-grainfather-control</code> to execute the unit tests via <a href="https://karma-runner.github.io">Karma</a>.</p>
<h2 id="further-help">Further help</h2>
<p>To get more help on the Angular CLI use <code>ng help</code> or go check out the <a href="https://github.com/angular/angular-cli/blob/master/README.md">Angular CLI README</a>.</p>
<h2 id="license">License</h2>
<p>Copyright 2020 Alexander Broekhuis</p>
<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<div><pre class="line-numbers"><code class="language-none">http://www.apache.org/licenses/LICENSE-2.0</code></pre></div><p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>














                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 0;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'getting-started';
            var COMPODOC_CURRENT_PAGE_URL = 'index.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="./js/libs/custom-elements.min.js"></script>
       <script src="./js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="./js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="./js/menu-wc.js" defer></script>

       <script src="./js/libs/bootstrap-native.js"></script>

       <script src="./js/libs/es6-shim.min.js"></script>
       <script src="./js/libs/EventDispatcher.js"></script>
       <script src="./js/libs/promise.min.js"></script>
       <script src="./js/libs/zepto.min.js"></script>

       <script src="./js/compodoc.js"></script>

       <script src="./js/tabs.js"></script>
       <script src="./js/menu.js"></script>
       <script src="./js/libs/clipboard.min.js"></script>
       <script src="./js/libs/prism.js"></script>
       <script src="./js/sourceCode.js"></script>
          <script src="./js/search/search.js"></script>
          <script src="./js/search/lunr.min.js"></script>
          <script src="./js/search/search-lunr.js"></script>
          <script src="./js/search/search_index.js"></script>
       <script src="./js/lazy-load-graphs.js"></script>


    </body>
</html>
